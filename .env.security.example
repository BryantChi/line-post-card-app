# ============================================
# 安全性相關環境變數設定範例
# ============================================
#
# 此檔案列出所有與安全性修正相關的環境變數
# 請複製需要的設定到您的 .env 檔案中
#
# ============================================

# --------------------------------------------
# 應用程式基本設定
# --------------------------------------------

# 生產環境必須設為 production
APP_ENV=production

# 生產環境必須設為 false (避免洩漏敏感資訊)
APP_DEBUG=false

# 網站 URL (務必使用 HTTPS)
APP_URL=https://business.cheni.tw

# --------------------------------------------
# Session & Cookie 安全設定
# --------------------------------------------

# 強制 Session Cookie 僅透過 HTTPS 傳輸
# 注意:必須在全站 HTTPS 後才能啟用
SESSION_SECURE_COOKIE=true

# Session 有效期限 (分鐘)
# 建議:120 分鐘 (2 小時)
SESSION_LIFETIME=120

# Session Driver
# 生產環境建議使用 redis 或 database,提升效能與安全性
# 共享主機可使用 file (預設)
SESSION_DRIVER=file

# Session Cookie 名稱
# 建議:自訂名稱,避免使用預設值
SESSION_COOKIE=line_card_session

# Session Domain
# 如果您有多個子網域,可設定為 .cheni.tw
# 單一網域可留空或設為 null
SESSION_DOMAIN=null

# --------------------------------------------
# CORS 設定
# --------------------------------------------

# CORS 允許的來源 (以逗號分隔)
# 僅列出必要的網域,不要使用 *
CORS_ALLOWED_ORIGINS=https://liff.line.me,https://access.line.me

# 如果您的前端有其他網域,也要加入
# 範例:
# CORS_ALLOWED_ORIGINS=https://liff.line.me,https://access.line.me,https://admin.cheni.tw

# --------------------------------------------
# 資料庫安全設定
# --------------------------------------------

# 資料庫連線資訊
# 注意:密碼強度至少 16 字元,混合大小寫+數字+符號
DB_CONNECTION=mysql
DB_HOST=localhost
DB_PORT=3306
DB_DATABASE=your_database_name
DB_USERNAME=your_db_username
DB_PASSWORD=your_strong_password_here_min_16_chars

# 資料庫連線加密 (選用,部分主機支援)
# MYSQL_ATTR_SSL_CA=/path/to/ca-cert.pem
# MYSQL_ATTR_SSL_VERIFY_SERVER_CERT=false

# --------------------------------------------
# Cache 設定
# --------------------------------------------

# Cache Driver
# 生產環境建議使用 redis,共享主機可使用 file
CACHE_DRIVER=file

# Queue Driver
# 生產環境建議使用 redis 或 database
QUEUE_CONNECTION=sync

# --------------------------------------------
# Mail 設定 (如使用)
# --------------------------------------------

# Mail Driver
MAIL_MAILER=smtp
MAIL_HOST=smtp.your-mail-provider.com
MAIL_PORT=587
MAIL_USERNAME=your_email@example.com
MAIL_PASSWORD=your_mail_password
MAIL_ENCRYPTION=tls
MAIL_FROM_ADDRESS=noreply@cheni.tw
MAIL_FROM_NAME="${APP_NAME}"

# --------------------------------------------
# LINE Bot 設定
# --------------------------------------------

# LINE Channel Access Token
# 注意:不要洩漏此 Token,定期更換
LINE_CHANNEL_ACCESS_TOKEN=your_channel_access_token_here

# LINE Channel Secret
LINE_CHANNEL_SECRET=your_channel_secret_here

# LINE LIFF ID
LIFF_ID=your_liff_id_here

# --------------------------------------------
# OpenAI 設定
# --------------------------------------------

# OpenAI API Key
# 注意:不要洩漏此 Key,監控使用量避免濫用
OPENAI_API_KEY=your_openai_api_key_here

# OpenAI Model
OPENAI_MODEL=gpt-3.5-turbo

# OpenAI API Base URL (通常不需要修改)
# OPENAI_API_BASE=https://api.openai.com/v1

# --------------------------------------------
# 安全性進階設定 (選用)
# --------------------------------------------

# Trusted Proxies
# 如果您的網站位於 CloudFlare 或 Load Balancer 後方
# 需要信任這些代理伺服器的 IP
# TRUSTED_PROXIES=*

# Trusted Hosts
# 限制可存取的 Host (網域)
# TRUSTED_HOSTS=business.cheni.tw,www.business.cheni.tw

# Content Security Policy Report URI (選用)
# 如果您要收集 CSP 違規報告
# CSP_REPORT_URI=https://business.cheni.tw/api/csp-report

# --------------------------------------------
# 日誌設定
# --------------------------------------------

# 日誌頻道
# 生產環境建議使用 stack 或 daily
LOG_CHANNEL=daily

# 日誌等級
# 生產環境建議設為 error,避免記錄過多資訊
LOG_LEVEL=error

# 日誌保留天數
LOG_DAYS=14

# --------------------------------------------
# 備份設定 (如使用 spatie/laravel-backup)
# --------------------------------------------

# BACKUP_DRIVER=local
# BACKUP_DISK=local
# BACKUP_NOTIFICATION_EMAIL=admin@cheni.tw

# --------------------------------------------
# 第三方服務 (如使用)
# --------------------------------------------

# Google Analytics (如使用)
# GOOGLE_ANALYTICS_ID=UA-XXXXXXXXX-X

# Sentry Error Tracking (如使用)
# SENTRY_LARAVEL_DSN=https://xxxxx@sentry.io/xxxxx

# --------------------------------------------
# 效能優化
# --------------------------------------------

# 啟用 OPcache (PHP 設定,需主機支援)
# 在 cPanel > Select PHP Version > Options 中設定

# 啟用 Redis (需主機支援)
# REDIS_HOST=127.0.0.1
# REDIS_PASSWORD=null
# REDIS_PORT=6379

# --------------------------------------------
# 開發/測試專用設定
# --------------------------------------------

# ⚠️ 以下設定僅供開發環境使用,生產環境必須禁用!

# 啟用除錯模式 (生產環境必須為 false)
# APP_DEBUG=false

# 顯示錯誤訊息 (透過 PHP 設定,生產環境必須為 Off)
# display_errors=Off

# 允許不安全的 Cookie (生產環境必須為 true)
# SESSION_SECURE_COOKIE=true

# ============================================
# 環境變數檔案安全提醒
# ============================================
#
# 1. .env 檔案權限必須設為 600 (僅所有者可讀寫)
#    chmod 600 .env
#
# 2. 確保 .env 已加入 .gitignore,不要提交到版本控制
#
# 3. 定期更換敏感資訊 (API Key, Token, Password)
#
# 4. 使用強密碼:至少 16 字元,混合大小寫+數字+符號
#
# 5. 不要在程式碼中硬編碼敏感資訊,統一使用環境變數
#
# ============================================
